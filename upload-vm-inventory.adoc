---
sidebar: sidebar 
permalink: upload-vm-inventory.html 
keywords: vm workloads, capture vm details 
summary: Você pode usar o Centro de Planejamento para carregar informações sobre seu ambiente VMware atual. 
---
= Carregar dados de inventário de VM para o NetApp Workload Factory
:allow-uri-read: 
:icons: font
:imagesdir: ./media/


[role="lead"]
Antes de criar um plano de migração, você precisa carregar os dados de inventário da sua VM.

.Passos
. Faça login no Workload Factory usando um dos https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["experiências de console"^] .
. No bloco de cargas de trabalho do VMware, selecione *Centro de planejamento do VMware*.
+
No centro de planejamento, você pode carregar seus dados de inventário de VM, ver uploads de dados de inventário anteriores e planejar uma migração usando qualquer um dos conjuntos de dados de inventário de VM.

. Selecione *Carregar inventário de VM*.
. Escolha qual método de coleta de dados usar:


[role="tabbed-block"]
====
.Usar RVTools (avaliação rápida)
--
O RVTools é um aplicativo do Windows que interage com o vCenter e o VMware ESX Server (5.x a 8,0) para capturar informações sobre seus ambientes virtuais VMware. Ele reúne informações sobre VMs, CPU, memória, discos, clusters, hosts ESX, datastores e muito mais. Você pode exportar essas informações para um arquivo xlsx para usar com o consultor de migração.

https://www.robware.net/home["Saiba mais sobre RVTools"^]

.Passos
. Selecione o bloco *RVTools* e selecione *Avançar*.
+
A página *Prepare for AWS Cloud onboarding* é exibida.

. Insira um nome para o conjunto de dados de inventário de VM que você criará.
. Baixe e instale o RVTools 4.4.2 ou superior de https://www.robware.net/download["Site da RVTools"^]
. Inicie o RVTools e faça login no vCenter Server de destino.
+
Isso capturará informações sobre esse vCenter Server.

. Exporte suas informações da VMware para um arquivo xlsx ou xls.
+
Consulte o capítulo sobre "parâmetros de linha de comandos" na https://resources.robware.net/resources/prod/RVTools.pdf["Documentação do RVTools"^] para obter mais detalhes.

. Selecioneimage:button-upload-file.png["o botão de carregamento"] e escolha o arquivo RVTools que você exportou.
. Selecione *Upload*.
. Selecione *Concluir*.


--
.Use o coletor de dados (planejamento detalhado)
--
O script de coletor de VM do consultor de migração do NetApp reúne informações de configuração de VM do vCenter semelhantes ao que o RVTools coleta, no entanto, ele captura dados atuais de desempenho de VM para fornecer estatísticas reais de leitura e gravação de IOPS e taxa de transferência. Você pode usar o script em um de dois modos:

* Coleta de dados por hora
* Coleta de dados diária


Você precisa iniciar o consultor de migração para copiar o script de coletor de VM do consultor de migração da janela do Codebox.

.Antes de começar
O sistema onde você estará executando o script coletor deve atender aos seguintes requisitos:

* O Microsoft PowerShell 7,0 ou posterior deve estar instalado. Consulte https://learn.microsoft.com/en-us/powershell/scripting/install/installing-powershell?view=powershell-7.4["Documentação do Microsoft PowerShell"^] se você precisar instalar o PowerShell.
* O VMware PowerCLI deve estar instalado. Consulte o https://docs.vmware.com/en/VMware-vSphere/7.0/com.vmware.esxi.install.doc/GUID-F02D0C2D-B226-4908-9E5C-2E783D41FE2D.html["Documentação do VMware PowerCLI"^] se você precisar instalar o PowerCLI.
* A verificação do certificado SSL deve ser desativada.
* O PowerShell deve permitir a execução de scripts não assinados.


Observe que se você planeja capturar estatísticas de longo prazo de suas VMs (estatísticas diárias), você deve ter ativado estatísticas de nível 3 ou superior no console de gerenciamento do vSphere (ambiente de gerenciamento VMware).

.Passos
. Selecione o bloco *Coletor de dados* e selecione *Avançar*.
+
A janela Codebox aparece no lado direito da página.

. Na janela Codebox, selecione image:button-download-codebox.png["o botão de transferência"]para salvar o script coletor de dados do consultor de migração (chamado "list-VMs.ps1") no sistema de destino ou image:button-copy-codebox.png["o botão copy (cópia)"]selecione para copiar o script para que você possa colá-lo no sistema apropriado.
. Siga estas etapas para capturar as configurações de suas VMs atuais:
+
.. Faça login no sistema em que você baixou o coletor de dados, no qual o PowerShell e o PowerCLI estão instalados.
.. Conete-se ao seu servidor VMware vCenter executando o seguinte comando:
+
[source, console]
----
Connect-VIServer -server <server_IP>
----
+
Substitua o <server_IP> pelo endereço IP ou nome do host do seu servidor VMware.

.. Execute o script de coletor de dados que você baixou e especifique a opção de coleta de dados para estatísticas de VM "horárias" ou "diárias".
+
[source, console]
----
./list-vms.ps1 -PerformanceStatisticsTimePeriod <LastHour | LastDay>
----
+
local:

+
*** *LastHour* coleta IOPS e dados de throughput para as últimas 1 horas com intervalos de 20 segundos.
*** *LastDay* coleta IOPS e dados de throughput nas últimas 24 horas com intervalos de 5 minutos.




+
Opcionalmente, você pode executar o script coletor de dados sem especificar nenhuma opção; isso permite que você selecione o período de coleta de dados no menu interativo.

+
+ O script gera um arquivo compactado com um registro de data e hora no nome no diretório de trabalho atual.  O arquivo .zip contém uma lista de todas as VMs e suas propriedades, juntamente com seus dados de IOPS e taxa de transferência.

. Selecione *Upload*.


--
.Use os insights da infraestrutura de dados do NetApp (Planejamento detalhado)
--
O NetApp Data Infrastructure Insights é uma ferramenta de monitoramento de infraestrutura de nuvem que oferece visibilidade de toda a sua infraestrutura. Você precisa ativar a comunicação temporária da API entre o consultor de migração e o Data Infrastructure Insights para que o consultor de migração possa coletar informações sobre sua infraestrutura VMware.

https://docs.netapp.com/us-en/data-infrastructure-insights/["Saiba mais sobre o Data Infrastructure Insights"^]

.Passos
. Selecione o bloco * Data Infrastructure Insights* e selecione *Avançar*.
+
A página *Prepare for AWS Cloud onboarding* é exibida.

. Insira um nome para o conjunto de dados de inventário de VM que você criará.
. Insira o ponto de extremidade do locatário para o Data Infrastructure Insights.
+
Esse deve ser o URL usado para acessar o Data Infrastructure Insights.

. Se você ainda não gerou um token de acesso à API para o Data Infrastructure Insights, siga as instruções na página para criar um. Caso contrário, cole seu token de acesso à API na caixa de texto *Inserir token de acesso à API*.
. Selecione *Upload*.
+
O Workload Factory coleta informações do Data Infrastructure Insights.



--
====
.O que se segue?
Gerencie seus dados de inventário de VM enviados a partir do centro de planejamento ou crie um plano de implantação.

* link:explore-planning-center.html["Explore o centro de planejamento de cargas de trabalho da VMware"]
* link:launch-onboarding-advisor.html["Crie um plano de implantação do Amazon VMware Cloud"]
* link:launch-migration-advisor-evs.html["Crie um plano de implantação do Amazon Elastic VMware Service"]
* link:launch-onboarding-advisor-native.html["Crie um plano de implantação do Amazon EC2"]

